dplyr::filter(!is.na(X3) | !is.na(X4))
View(dsq)
dsq <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n()
) %>%
dplyr::filter(!is.na(X3) | !is.na(X4))
source('~/GitHub/Utilities/link-king-names/scribe-names.R', echo=TRUE)
View(head(ds_names_raw, 250))
dsq2 <-
dsq %>%
select(rown <= 10 )
dsq2 <-
dsq %>%
dplyr::select(rown <= 10 )
dsq <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n()
) %>%
dplyr::filter(!is.na(X3) | !is.na(X4))
dsq2 <-
dsq %>%
dplyr::select(rown <= 10 )
dsq <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n()
) %>%
dplyr::filter(!is.na(X3) | !is.na(X4))
colnames(dsq)
dsq2 <-
dsq %>%
dplyr::filter(rown <= 10 )
length(gregexpr(" ", dsq2$primary_name)[[1]])
length(gregexpr(" ", dsq2$primary_name))
gregexpr(" ", dsq2$primary_name)
gregexpr(" ", dsq2$primary_name[1])
dsq2$primary_name[1]
View(dsq)
str(dsq)
dsq <-
ds_names_raw %>%
tibble::as_tibble()
dsq <-
ds_names_raw %>%
tibble::as_tibble() %>%
dplyr::mutate(
rown = 1:dplyr::n()
) %>%
dplyr::filter(!is.na(X3) | !is.na(X4))
dsq2 <-
dsq %>%
dplyr::filter(rown <= 10 )
length(gregexpr(" ", dsq2$primary_name[1]))
dsq2$primary_name[1]
dsq2$primary_name
View(dsq2)
View(dsq)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n()
)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n()
) %>%
dplyr::filter(rown <= 10 )
length(gregexpr(" ", dsq2$primary_name[1]))
dsq2$primary_name
dsq2$primary_name[1]
gregexpr(" ", dsq2$primary_name[1])
gregexpr(" ", dsq2$primary_name)
length(gregexpr(" ", dsq2$primary_name))[[1]]
View(dsq2)
strsplit(dsq2$primary_name, " ")
length(strsplit(dsq2$primary_name, " ")[[1]])
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n(),
) %>%
dplyr::filter(rown <= 10 ) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " "))
)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n(),
) %>%
dplyr::filter(rown <= 10 ) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]])
)
View(dsq2)
View(ds_names_raw, 100)
View(head(ds_names_raw, 100))
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n(),
) %>%
dplyr::filter(rown <= 20 ) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]])
)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n(),
) %>%
dplyr::filter(rown <= 20 ) %>%
dplyr::group_by(rown) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]])
) %>%
dplyr::ungroup()
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n(),
) %>%
# dplyr::filter(rown <= 20 ) %>%
dplyr::group_by(rown) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]])
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 3)
View(head(dsq2, 200))
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n(),
) %>%
# dplyr::filter(rown <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]])
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 3)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n(),
) %>%
# dplyr::filter(rown <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]])
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2)
strsplit(dsq2$primary_name, " ")
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown = 1:dplyr::n(),
) %>%
dplyr::filter(rown <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]])
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_first =
)
strsplit(dsq2$primary_name, " ")
strsplit(dsq2$primary_name, " ")[[1]]
strsplit(dsq2$primary_name, " ")[[1]][1]
strsplit(dsq2$primary_name, " ")[[1]][2]
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]])
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_first = strsplit(dsq2$primary_name, " ")[[1]][1],
name_last  = strsplit(dsq2$primary_name, " ")[[1]][2],
)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
# name_first          =        strsplit(primary_name, " ")[[1]][1],
# name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_first = strsplit(primary_name, " ")[[1]][1],
name_last  = strsplit(primary_name, " ")[[1]][2],
)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
name_first          =        strsplit(primary_name, " ")[[1]][1],
name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
# name_first = strsplit(primary_name, " ")[[1]][1],
# name_last  = strsplit(primary_name, " ")[[1]][2],
)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
name_first          =        strsplit(primary_name, " ")[[1]][1],
name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_middle = dplyr::lag(name_first, 1)
)
View(dsq2)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
name_first          =        strsplit(primary_name, " ")[[1]][1],
name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_middle = dplyr::lag(name_first, 1),
name_maiden = dplyr::lead(name_last, 2)
)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
name_first          =        strsplit(primary_name, " ")[[1]][1],
name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_middle = dplyr::lag(name_first, 1),
name_maiden = dplyr::lead(name_last, 1)
)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
name_first          =        strsplit(primary_name, " ")[[1]][1],
name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_middle = dplyr::lag(name_first, 1),
name_maiden = dplyr::lead(name_last, 1),
gender      = sample(0:1, dplyr::n(), replace = TRUE)
)
View(dsq2)
set.seed(1321)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
name_first          =        strsplit(primary_name, " ")[[1]][1],
name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_middle = dplyr::lag(name_first, 1),
name_maiden = dplyr::lead(name_last, 1),
gender      = sample(0:1, dplyr::n(), replace = TRUE),
gender      = dplyr::if_else(gener == 1, "Male", "Female"),
race_ethnicity =
)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
name_first          =        strsplit(primary_name, " ")[[1]][1],
name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_middle = dplyr::lag(name_first, 1),
name_maiden = dplyr::lead(name_last, 1),
gender      = sample(0:1, dplyr::n(), replace = TRUE),
gender      = dplyr::if_else(gender == 1, "Male", "Female"),
)
sample(0:1, dplyr::n(), replace = TRUE)
sample(0:1, 19, replace = TRUE)
sample(0:1, 19, replace = TRUE)
sample(0:1, 19, replace = TRUE)
sample(0:1, 19, replace = TRUE)
floor(runif(0, min = 0, max = 2))
floor(runif(19, min = 0, max = 2))
floor(runif(19, min = 0, max = 2))
set.seed(1321)
floor(runif(19, min = 0, max = 2))
floor(runif(19, min = 0, max = 2))
floor(runif(19, min = 0, max = 2))
sample(0:1, 19, replace = TRUE)
sample(0:1, 19, replace = TRUE)
set.seed(1321)
sample(0:1, 19, replace = TRUE)
set.seed(1321)
sample(0:1, 19, replace = TRUE)
set.seed(1321)
sample(0:1, 19, replace = TRUE)
sample(0:1, 19, replace = TRUE)
set.seed(1321)
sample(0:1, 19, replace = TRUE)
set.seed(1321)
sample(0:1, 19, replace = TRUE)
sample(1:5, 19, replace = TRUE)
sample(1:5, 19, replace = TRUE)
set.seed(1321)
sample(0:1, 19, replace = TRUE)
sample(0:1, 19, replace = TRUE)
sample(1:5, 19, replace = TRUE)
set.seed(1321)
set.seed(1321)
sample(0:1, 19, replace = TRUE)
sample(1:5, 19, replace = TRUE)
set.seed(1321)
sample(0:1, 19, replace = TRUE)
sample(1:5, 19, replace = TRUE)
set.seed(1321)
sample(0:1, 19, replace = TRUE)
sample(1:5, 19, replace = TRUE)
sample(1:5, 19, replace = TRUE)
set.seed(1321)
sample(0:1, 19, replace = TRUE)
sample(1:5, 19, replace = TRUE)
sample(1:5, 19, replace = TRUE)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
name_first          =        strsplit(primary_name, " ")[[1]][1],
name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_middle = dplyr::lag(name_first, 1),
name_maiden = dplyr::lead(name_last, 1),
gender      = sample(0:1, dplyr::n(), replace = TRUE),
gender      = dplyr::if_else(gender == 1, "Male", "Female"),
ethnicity   = sample(1:5, dplyr::n(), replace = TRUE),
ethnicity   = dplyr::case_when(
ethnicity == 1 ~ "Asian",
ethnicity == 2 ~ "African American",
ethnicity == 3 ~ "Caucasian",
ethnicity == 4 ~ "Hispanic",
ethnicity == 5 ~ "Native American",
),
birth_day   = sample(1:28, dplyr::n(), replace = TRUE),
birth_month = sample(1:12, dplyr::n(), replace = TRUE)
)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
name_first          =        strsplit(primary_name, " ")[[1]][1],
name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_middle = dplyr::lag(name_first, 1),
name_maiden = dplyr::lead(name_last, 1),
gender      = sample(0:1, dplyr::n(), replace = TRUE),
gender      = dplyr::if_else(gender == 1, "Male", "Female"),
ethnicity   = sample(1:5, dplyr::n(), replace = TRUE),
ethnicity   = dplyr::case_when(
ethnicity == 1 ~ "Asian",
ethnicity == 2 ~ "African American",
ethnicity == 3 ~ "Caucasian",
ethnicity == 4 ~ "Hispanic",
ethnicity == 5 ~ "Native American",
),
birth_day   = sample(1:28, dplyr::n(), replace = TRUE),
birth_month = sample(1:12, dplyr::n(), replace = TRUE),
dob         = paste0(birth_year, birth_month, birth_day, sep = "-")
)
View(dsq2)
dsq2 <-
ds_names_raw %>%
dplyr::mutate(
rown_o = 1:dplyr::n(),
) %>%
dplyr::filter(rown_o <= 20 ) %>%
dplyr::filter(!is.na(birth_year)) %>%
dplyr::group_by(rown_o) %>%
dplyr::mutate(
count_name_segments = length(strsplit(primary_name, " ")[[1]]),
name_first          =        strsplit(primary_name, " ")[[1]][1],
name_last           =        strsplit(primary_name, " ")[[1]][2],
) %>%
dplyr::ungroup() %>%
dplyr::filter(count_name_segments <= 2) %>%
dplyr::mutate(
name_middle = dplyr::lag(name_first, 1),
name_maiden = dplyr::lead(name_last, 1),
gender      = sample(0:1, dplyr::n(), replace = TRUE),
gender      = dplyr::if_else(gender == 1, "Male", "Female"),
ethnicity   = sample(1:5, dplyr::n(), replace = TRUE),
ethnicity   = dplyr::case_when(
ethnicity == 1 ~ "Asian",
ethnicity == 2 ~ "African American",
ethnicity == 3 ~ "Caucasian",
ethnicity == 4 ~ "Hispanic",
ethnicity == 5 ~ "Native American",
),
birth_day   = sample(1:28, dplyr::n(), replace = TRUE),
birth_month = sample(1:12, dplyr::n(), replace = TRUE),
dob         = paste(birth_year, birth_month, birth_day, sep = "-")
)
View(dsq2)
